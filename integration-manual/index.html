<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Fluid Integration Manual</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
    margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-uiBlue { background-color: rgba(35, 131, 226, .07); }
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-translucentGray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }
.select-value-color-pageGlass { background-color: undefined; }
.select-value-color-washGlass { background-color: undefined; }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="39be094a-ef93-4825-92d5-76920a935178" class="page sans"><header><div class="page-header-icon undefined"><img class="icon" src="assets/logo-mark-light.png"/></div><h1 class="page-title">Fluid Integration Manual</h1><p class="page-description"></p></header><div class="page-body"><p id="796b6a8f-8733-4fa2-b24a-39b59209680b" class="">Product website:  <a href="https://fluidpayments.io/">https://fluidpayments.io/</a></p><h1 id="5a9323bb-7d53-44e6-9b6f-b1523f6d599a" class="">Contents</h1><nav id="c10e754a-2287-44de-ac38-efc022649bf4" class="block-color-gray table_of_contents"><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#5a9323bb-7d53-44e6-9b6f-b1523f6d599a">Contents</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#de17d824-6e64-49c8-bb40-96da609ad07b">Introduction</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#2dbfc3b4-f049-43ea-99d6-98a51663215e">Fluid Widget Integration</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#6be464d8-3979-4d26-82c9-a5ad7e45004f">Custom element attributes</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#163be773-9b0f-43e0-932f-44c9d9021acf">Initial Mandatory Attributes</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#3a4033c4-397b-4c48-bef4-180455d3c844">Observed Attributes</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#ccf25dec-46ab-461d-a2bc-f82d9c35d7e6">Notifications Emitted by the Fluid Wallet</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#20fc3ba6-ca32-4202-8419-73d214b769b8">Complete Required Code</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#3e08ad33-d218-4c59-b4b0-5aa5c34276be">Responsible gaming limit</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#9ba0ef07-f024-4fda-abd8-821ac9894fbf">Bonus Data Object</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#60a7589e-285b-418b-b762-0d1433f745e6">User Data Object</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#bc24d786-9a7e-42b3-90de-3ec6d30fa38a">How Fluid works</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#d83d0098-4b73-4d71-89b7-e9332a8f2145">Example Transaction 1: Deposit</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#1e87d442-2e53-44ba-8de4-d44865456c07">Example Transaction 2: Quick Deposit</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#df1dff56-c8c4-4ad9-a8d7-1908bb5fb005">Example Transaction 3: Withdrawal</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#c4ce2922-771f-4c78-8b74-923a5026a835">Fluid Wallet Content Defined by the Operator</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#fc3f6755-59d7-443c-89c9-f4f4b8602489">Fluid Wallet Behaviour Defined by the Operator</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#55faf6d3-3671-4297-b408-9649d1605f50">Integrations with various front-end frameworks</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#02d3c952-0f81-4016-8bee-744c64e025de">React</a></div></nav><h1 id="de17d824-6e64-49c8-bb40-96da609ad07b" class="">Introduction</h1><p id="3baf53b2-4dc9-4bc9-a3c5-e7a7f100b2d3" class="">This document gives an outline of the Fluid Wallet and how it is integrated into the host website. </p><p id="1c3dd631-c409-4f83-bb94-16915ed97e58" class="">The Fluid wallet has three principal user functions: <strong>Deposit</strong>, <strong>Quick Deposit</strong> and <strong>Withdrawal</strong>. The initial screen presented to the user for each of these functions is shown in the figure below. These principal functions allow the user to perform deposits and withdrawals with a variety of customised settings. </p><p id="74a6ef57-864f-418e-9bf3-7d271aae13a4" class="">
</p><p id="53289c94-351b-4ac7-984b-066e4f62ea30" class="">
</p><figure id="cec1eb73-9ff3-4479-8d68-cf4946207982" class="image"><a href="assets/Untitled.png"><img style="width:624px" src="assets/Untitled.png"/></a></figure><p id="ee5307a7-f049-4f58-a59d-568ee8467e22" class="">
</p><p id="e554dadf-d970-4bb7-906b-34a20a007e25" class="">                                                            <strong><em>Figure 1 - Principal User Functions</em></strong></p><h1 id="2dbfc3b4-f049-43ea-99d6-98a51663215e" class="">Fluid Widget Integration</h1><p id="889010a9-1399-44bd-afd3-bc1a067a72a9" class="">The Fluid Widget is implemented as a web component containing a custom HTML element. It is integrated into the host page DOM by firstly referring to the the Fluid Widget library URL in a script tag and secondly, including the fluid-widget custom element. By design, <strong>both the library URL and custom element should get injected into the host site DOM upon user authentication</strong> on the host site. </p><p id="45cbbcce-0df3-4cd0-9d6f-2006fb589441" class="">The <mark class="highlight-purple">fluid-widget</mark> custom element expects certain attributes to be passed to it (<mark class="highlight-red">operator-id</mark><mark class="highlight-default">,</mark><mark class="highlight-red"> user-id</mark><mark class="highlight-default">,</mark> <mark class="highlight-red">session-id</mark><mark class="highlight-default">,</mark><mark class="highlight-red"> locale </mark><mark class="highlight-default">etc). </mark>This is the initial method by which data is passed from the host site to the Fluid Wallet and specifies key parameters specific to the individual user. These are detailed in the following section.</p><p id="ceda8627-d3fa-4b95-aa8d-18dd9f717761" class="">The <mark class="highlight-red">operator-id</mark> must be agreed upon between Operator and Fluid Payments. In order for the wallet to function correctly, it must have a valid combination of <mark class="highlight-red">user-id</mark> and <mark class="highlight-red">session-id</mark>.</p><p id="f7a565b4-09ba-4321-9a67-54952cb09df0" class=""><mark class="highlight-default">The attribute</mark><mark class="highlight-red"> success-cta-link</mark> sets the link to follow for the CTA button on successful<strong> </strong>transaction  This CTA button is displayed on the final step and is shown in Figure 9 for deposits and withdrawals. The value can be a full URL or a path. It defaults to <code>/</code></p><h2 id="6be464d8-3979-4d26-82c9-a5ad7e45004f" class="">Custom element attributes</h2><ul id="121a7423-c86d-46b7-83bb-3b5a49edb344" class="bulleted-list"><li style="list-style-type:disc"><code>operator-id</code> - unique identifier of the host site / operator * **</li></ul><ul id="2e594e2e-fa03-4f60-9667-b94f39524533" class="bulleted-list"><li style="list-style-type:disc"><code>session-id</code> - up-to-date session code of the currently authenticated user **</li></ul><ul id="9f6625fc-4ff9-4978-bb6f-746e3c67143d" class="bulleted-list"><li style="list-style-type:disc"><code>user-id</code> - identifier of currently authenticated user **</li></ul><ul id="ea401f71-b269-46ae-a12f-d7c2aecb78ae" class="bulleted-list"><li style="list-style-type:disc"><code>user-data</code> - details of currently authenticated user **</li></ul><ul id="36e58bae-71c9-436f-8bc3-d193b38f3515" class="bulleted-list"><li style="list-style-type:disc"><code>locale</code> - locale tag according to IETF BCP 47 (e.g. en-US or es-MX) **</li></ul><ul id="171c1736-97f2-4297-b5d5-6749eb4cde96" class="bulleted-list"><li style="list-style-type:disc"><code>country</code> - country of currently authenticated user in ISO 3166-1 Alpha-3 format **</li></ul><ul id="b253dcaf-b529-4e86-8806-e8249cdee055" class="bulleted-list"><li style="list-style-type:disc"><code>currency</code> - currency code according to ISO 4217</li></ul><ul id="4c8cf80b-bf7a-478a-b34f-9fb304f8627e" class="bulleted-list"><li style="list-style-type:disc"><code>transaction</code> - <em>deposit</em> | <em>withdrawal</em> | <em>quick-deposit</em></li></ul><ul id="7643f3c8-3db1-484f-9612-b52ab1b0dade" class="bulleted-list"><li style="list-style-type:disc"><code>open</code> - <em>true</em> or <em>false</em></li></ul><ul id="ea257a0d-1533-47e2-a0ca-0daf65506de7" class="bulleted-list"><li style="list-style-type:disc"><code>balance</code> - current user balance in given currency</li></ul><ul id="abc272c7-0055-41d6-a6c6-bd5c2da0da57" class="bulleted-list"><li style="list-style-type:disc"><code>withdrawable-balance</code> - amount available to withdraw</li></ul><ul id="7456127c-4e98-41d7-8775-6c7e15cd15f6" class="bulleted-list"><li style="list-style-type:disc"><code>bonuses</code> - stringified bonus data, structure described below</li></ul><ul id="490e4474-e417-4948-9b39-3b2fa4650a02" class="bulleted-list"><li style="list-style-type:disc"><code>selected-bonus</code> - identifier of the bonus to preselect</li></ul><ul id="405f1e88-0bdc-4b13-9375-cec5bbd1b1c9" class="bulleted-list"><li style="list-style-type:disc"><code>mode</code> - Snap or Wave</li></ul><ul id="2d4dda34-e170-487b-b457-967ea377e24c" class="bulleted-list"><li style="list-style-type:disc"><code>deposit-limit</code> - responsible gaming deposit limit</li></ul><ul id="2b7a0e9d-fb1a-4a10-9bbb-5c09c591a6a0" class="bulleted-list"><li style="list-style-type:disc"><code>success-cta-link</code>  - Link for the CTA button on successful<strong> </strong>transaction </li></ul><p id="66a779b5-83b2-480c-a229-0bc1aebb38cd" class="">
</p><p id="447db083-548c-4f84-b6e0-833e53484703" class="">* The <code>operator-id</code> value must correspond to the Payment Operator Config property value. This value is provided by Fluid Payments.</p><p id="060d319e-a62f-4434-b22d-845cd118d093" class="">** Mandatory on init</p><h2 id="163be773-9b0f-43e0-932f-44c9d9021acf" class="">Initial Mandatory Attributes</h2><p id="a5110bdd-d034-4d7b-841b-c594519e7945" class="">For correct initialisation, the following attributes need to be set before the widget is injected to the DOM:</p><ul id="f89c7d50-4233-4634-a10b-1b081e5d2d00" class="bulleted-list"><li style="list-style-type:disc"><code>operator-id</code> - unique identifier of the host site / operator * **</li></ul><ul id="4c018d0d-9c20-44dd-b5ab-b152f9d8da54" class="bulleted-list"><li style="list-style-type:disc"><code>session-id</code> - up-to-date session code of the currently authenticated user **</li></ul><ul id="1b08c252-c3e9-416c-87c9-fa5c13a08380" class="bulleted-list"><li style="list-style-type:disc"><code>user-id</code> - identifier of currently authenticated user **</li></ul><ul id="ac06b3ae-5fad-4dda-94d5-a1bee9e025ed" class="bulleted-list"><li style="list-style-type:disc"><code>user-data</code> - details of currently authenticated user **</li></ul><ul id="f8d9cfab-3fd6-4492-94f9-70b6ed4db7bd" class="bulleted-list"><li style="list-style-type:disc"><code>country</code> - country of currently authenticated user in ISO 3166-1 Alpha-3 format **</li></ul><ul id="1cf91a26-17cd-47d2-9932-1ad3c89d14c3" class="bulleted-list"><li style="list-style-type:disc"><code>locale</code> - locale tag according to IETF BCP 47 (e.g. en-US or es-MX) **</li></ul><h2 id="3a4033c4-397b-4c48-bef4-180455d3c844" class="">Observed Attributes</h2><p id="ce0a6ed9-f83c-440b-8f0f-3188be28dfcd" class="">The following attributes are observed by the widget and change in their value on the host site causes a reaction/event within the wallet. For example, note that in all three examples above (deposit, quick deposit and withdrawal) the open attribute is set to true and the wallet is visible on the screen. Closing the wallet changes this attribute value to false.</p><ul id="48ccb451-5486-4f88-81d1-011eb2de16ef" class="bulleted-list"><li style="list-style-type:disc"><code>open</code> - triggers the wallet to become visible or hidden</li></ul><ul id="90a7f72e-eb56-4020-a344-ece23ce0b69d" class="bulleted-list"><li style="list-style-type:disc"><code>transaction</code> - sets the wallet flow onto particular operation</li></ul><ul id="f25c71b1-be3d-4e18-937a-a796054de280" class="bulleted-list"><li style="list-style-type:disc"><code>balance</code> and <code>withdrawable-balance</code> - update withdrawal information</li></ul><ul id="42c0bb46-79bd-444d-a8d0-3e9f0d77d6fc" class="bulleted-list"><li style="list-style-type:disc"><code>session-id</code> - assures consistently valid user session</li></ul><ul id="723a22c5-e3a3-4898-a27d-6c05c8c9dedd" class="bulleted-list"><li style="list-style-type:disc"><code>selected-bonus</code> - sets deposit bonus</li></ul><ul id="fe9f1e09-dcdd-444e-a093-7a32d5f59616" class="bulleted-list"><li style="list-style-type:disc"><code>bonuses</code> - updates bonuses information</li></ul><ul id="8987cfc1-6287-474e-a5a5-b5029c485398" class="bulleted-list"><li style="list-style-type:disc"><code>success-cta-link</code> - sets the link to follow on successful transaction</li></ul><h2 id="ccf25dec-46ab-461d-a2bc-f82d9c35d7e6" class="">Notifications Emitted by the Fluid Wallet</h2><p id="13f2d491-a028-4ff1-b998-3d3263d437ff" class="">In addition to receiving information from the host site, the Fluid wallet emits information out to the host website using custom events. These are divided into three types:</p><ul id="fea1092f-c9af-44ff-add0-1f4ee504c956" class="bulleted-list"><li style="list-style-type:disc"><code>fluid-info</code> - messages of informational nature, with the purpose of e.g. tracking or allowing user action</li></ul><ul id="c380a8a3-757a-403c-b56b-7f797bff668a" class="bulleted-list"><li style="list-style-type:disc"><code>fluid-error</code> - unexpected failure notifications</li></ul><ul id="81b00812-6876-4ebd-918a-992fbe446cf5" class="bulleted-list"><li style="list-style-type:disc"><code>fluid-command</code> - commands to react to</li></ul><p id="5f3ac1e8-9741-4211-8825-cb72ffc1eafa" class=""><div class="indented"><p id="cd10ff12-f303-4661-a7bb-4780ded3a6a9" class="">Possible values of those types can be expected to be:</p><ul id="945fbbe3-27ae-4c0c-bf08-880532f810ac" class="bulleted-list"><li style="list-style-type:disc"><code>fluid-info</code>: <ul id="62a16ce0-5f4e-4eae-bc8f-98396846a3a3" class="bulleted-list"><li style="list-style-type:circle"><em>initialised - </em>wallet has been prepared for opening - it should not be allowed to open before this is emitted</li></ul><ul id="2b30e3ae-5a83-4ce3-9f0d-2094514ad288" class="bulleted-list"><li style="list-style-type:circle"><em>opened - </em>the wallet has been opened</li></ul><ul id="67d58fa8-c867-4d9d-8fea-0c7cdb8bda61" class="bulleted-list"><li style="list-style-type:circle"><em>destroyed - </em>the wallet instance has been terminated</li></ul><ul id="a2897801-6bd2-450a-b7ca-516c31459855" class="bulleted-list"><li style="list-style-type:circle"><em>internal-operation-change - </em>transaction flow has been amended internally, e.g. upon withdrawal without a positive withdrawable balance</li></ul></li></ul><ul id="d3fb882f-33ac-429b-ab57-99d706338e0d" class="bulleted-list"><li style="list-style-type:disc"><code>fluid-error</code>:<ul id="d5a3ab1d-604c-4423-8b0f-708f919cda75" class="bulleted-list"><li style="list-style-type:circle"><em>initialisation-failure</em> - Fluid wasn’t able to configure itself, e.g. due to a network or backend issue</li></ul><ul id="34b9c2c0-3399-437f-9729-5ab96b2a46b8" class="bulleted-list"><li style="list-style-type:circle"><em>operation-execution-failure</em> - an operation failed unexpectedly due to an error</li></ul></li></ul><ul id="9375027d-d2a0-4024-aea6-5f6f1cae7458" class="bulleted-list"><li style="list-style-type:disc"><code>fluid-command</code>:<ul id="349779ce-322d-45b8-b1eb-e616f5dd38ff" class="bulleted-list"><li style="list-style-type:circle"><em>close</em> - user selected to close the wallet from within, the <code>open</code> attribute should be set to <em>false</em></li></ul></li></ul></div></p><p id="7cd4b315-d170-46c5-8777-e00179252e9b" class="">Note: The list above gives examples of notifications emitted by the fluid widget, it is not an exhaustive list of <em><strong>all</strong></em> notifications.</p><h2 id="20fc3ba6-ca32-4202-8419-73d214b769b8" class="">Complete Required Code</h2><p id="ec6382c3-1e03-4c92-b389-e4d071724dab" class="">The following snippet needs to be injected to your website DOM upon user login:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="37261bad-836c-4eb1-aa96-5bf009886044" class="code"><code class="language-JavaScript">&lt;script type=&quot;module&quot; src=&quot;https://get.fluidpayments.io/index.js&quot;&gt;&lt;/script&gt;
&lt;fluid-widget
	operator-id=&quot;&lt;your operator ID&gt;&quot;
	session-id=&quot;&lt;authenticated user session ID&gt;&quot;
	user-id=&quot;&lt;authenticated user ID&gt;&quot;
  user-data=&quot;&lt;authenticated user details&gt;&quot;
	locale=&quot;&lt;locale tag&gt;&quot;
	country=&quot;&lt;authenticated user country&gt;&quot;
	currency=&quot;&lt;user currency code&gt;&quot;
	transaction=&quot;&lt;deposit / withdrawal / quick-deposit&gt;&quot;
	open=&quot;&lt;false / true&gt;&quot;
	balance=&quot;&lt;user current balance&gt;&quot;
	withdrawable-balance=&quot;&lt;user current withdrawable balance&gt;&quot;
	mode=&quot;&lt;wave / snap&gt;&quot;
	bonuses=&quot;&lt;bonus data&gt;&quot;
	selected-bonus=&quot;&lt;selected bonus code&gt;&quot;
	deposit-limit=&quot;&lt;responsible gaming current deposit limit&gt;&quot;
	success-cta-link=&quot;&lt;link to URL/Path following successful transaction&gt;&quot;
&gt;
&lt;/fluid-widget&gt;</code></pre><p id="f9132c93-2f69-445d-9598-26eca11c0c4d" class="">
</p><p id="12c3e3fc-4a12-477e-a55f-dcec2b3c5143" class="">It should stay present in the DOM for the time of user session.</p><p id="1b2327d7-e936-4d2f-b431-8eaded37601c" class="">Bold text above marks initially mandatory attributes.</p><h2 id="3e08ad33-d218-4c59-b4b0-5aa5c34276be" class="">Responsible gaming limit</h2><p id="d5d9fc04-4511-45d8-9185-65e82d1c994e" class="">The wallet enables responsible gaming limits to be defined and when applicable, the max deposit amount is adjusted amount on step 1. Each payment had its own maximum deposit amount, however when the responsible gaming is below this limit, the maximum deposit is limited to this value. For example, in the figure below the responsible gaming limit is set at <strong>220€ </strong>(shown as <mark class="highlight-red">Max: €220</mark>). If the user enters an amount exceeding this limit, the text is highlighted red and the fluent box displays the limit set by responsible gaming.</p><p id="d7c8130d-50c4-4c5d-bc4d-95992c54f22c" class="">
</p><figure id="bbb4ee7e-59a8-4601-a633-5c391d8d694d" class="image"><a href="assets/Untitled%201.png"><img style="width:384px" src="assets/Untitled%201.png"/></a></figure><p id="8eabcbf6-4f0c-405d-aaf9-dcea913eb875" class="">
</p><p id="f6d15687-abd0-4c55-b324-d43e4bc20b9b" class="">                                          <strong><em>Figure 3 - Responsible Gaming Limit</em></strong></p><p id="80b05a44-ae64-4757-b162-f942b89c31be" class="">
</p><h2 id="9ba0ef07-f024-4fda-abd8-821ac9894fbf" class="">Bonus Data Object</h2><p id="5848d59b-69ed-4ff3-a672-aa98fc38410d" class="">The structure containing sample data:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="7b7da8be-5f2c-4acd-adfd-8e583c643f50" class="code"><code class="language-JSON">{
  &quot;code&quot;: &quot;DepositBonus&quot;,
  &quot;title&quot;: &quot;Deposit Bonus&quot;,
  &quot;description&quot;: &quot;100% up to 200€ + 10 Mega Spins&quot;,
  &quot;logoUrl&quot;: &quot;https://&lt;operator-site&gt;.com/assets/img/rewards/bonus-img/deposit-bonus.png&quot;,
  &quot;maxBonus&quot;: &quot;200&quot;,
  &quot;maxBonusPercentage&quot;: &quot;150&quot;,
  &quot;termsAndConditions&quot;: &quot;Welcome Offer Terms And Conditions 1. Your Welcome Offer is: Welcome Bonus 1st Deposit: 100% up to $500 + 50 free spins Welcome Bonus 2nd Deposit: 50% up to $500 + 50 free spins Welcome Bonus 3rd Deposit: 75% up to $500 + 50 free spins Welcome Bonus 4th Deposit: 50% up to $500 + 50 free spins 2. You must claim each deposit bonus in sequence to be eligible for the next one. You must claim the first bonus to be eligible for the second, then claim the second bonus to be eligible for the third, and then claim the third bonus to be eligible for the fourth. 3. The maximum win and withdrawal from each Deposit Bonus is $10,000. 4. The maximum win and withdrawal from free spins winnings is $100. General Bonuses Terms And Conditions 1. These Bonus Terms and Conditions apply to all promotions and campaigns offered by Highroller from time to time and form part of the General Terms and Conditions. Promotions will also have specific terms applicable to them stated within the offer. 2. Bonus play can begin only when your Real Money is depleted. If you make a Real Money withdrawal before you have completed your Bonus wagering the remaining Bonus will be forfeit. 3. The maximum wager when a Bonus is pending, or actively being turned over is $5 or currency equivalent. You may lose your Winnings if you do not follow this rule. 4. If a Player attempt to turnover their Casino bonus or use of bonus spins whilst their Real Money is locked in Pending or unsettled Bets, this will be considered abuse of promotion and breach of our Terms and Conditions. 5. Highroller reserves the right to void winnings as a result of wagering with an active bonus where a value, or part of a value, has been built up by a Player and subsequently activated with real money once the promotion has been completed or cancelled. 6. A Bonus is only valid once per Account/household/IP address/device. Unless stated otherwise, you must deposit at least $20 or currency equivalent and play $20 or currency equivalent in order to qualify for a Deposit Bonus. 7. Bonus money will expire 30 days after being awarded to you, unless stated otherwise in a promotional offer. 8. A Free Spin is Game specific and cannot be transferred. All free spins have a validity of 24 hours, unless stated otherwise in a promotional offer. The winnings have to be wagered 30x and you have 30 days to meet the wagering requirements. 9. Free Spins that are offered as reward in a Deposit Bonus will be credited after a player has wagered a minimum of $20 or currency equivalent on slots in the Casino, unless stated otherwise. Free spins that do not require a Deposit to trigger are only available if you have made a Deposit at least once over a selected period of time. 10. You must not engage in any activity which is intended to take unfair advantage of a Bonus. Highroller reserves the right to withdraw the availability of any Promotion and void any wager funded by the Bonus and remove any winnings from such wager at any time and at Highroller’s sole and absolute discretion. 11. If we have reasonable grounds to suspect that a Bonus is being claimed by or for the benefit of the same person more than once or by a group of people acting in concert then it may withdraw the availability of any Bonus or all Bonuses to that customer or group of customers and/or void any wager funded by the Bonus and remove any winnings from such wager. 12. Highroller reserves the right to confiscate any winnings obtained as a result of a faulty bonus set up, human error or other errors out of our control. Wager - get paid - Reward: This is a “Live Casino” Reward Only Live casino games can contribute towards the wagering requirements. This offer is a cash reload, meaning that you will receive cash after completing the wagering requirements. You are free to withdraw this amount at any time after the wagering conditions have been completed. If necessary, you are allowed to add more funds by depositing in order to complete the wagering requirements. The wagering requirements must be completed in 30 days (unless otherwise stated) or the cash reload will expire. The deposit must be wagered 40 times to release the cash reward. For example - If you deposit $20, you must wager 40 x $20 in order to release the $20 cash reward. You must activate the bonus by claiming it in the reward section on your first deposit. No max bet Cash reward will be credited automatically to players cash balance. Once the money is in your cash balance, you are free to use it as you wish. Wagering starts the minute you play your first spin with the cash balance on any live casino game.&quot;,
  &quot;paymentMethodFilter&quot;: {
    &quot;applyTo&quot;: [
      {
        &quot;providerType&quot;: &quot;CREDITCARD&quot;
      },
      {
        &quot;providerType&quot;: &quot;WEBREDIRECT&quot;,
        &quot;service&quot;: &quot;BLIXTPAY&quot;
      }
    ],
    &quot;excludeFrom&quot;: [
      {
        &quot;providerType&quot;: &quot;JETON&quot;
      }
    ]
  }
}</code></pre><p id="e1bc26b2-5707-43d3-be28-ea83edc00825" class="">                           </p><p id="21172b2c-9b16-4621-9edf-27c22a086699" class="">                      <strong><em>Figure 4 - Definition of Bonuses Passed to the Fluid Widget (Example)</em></strong></p><p id="58c5ff17-0ed0-4301-b7d1-e5cb7bb6cda0" class="">
</p><ul id="1c0bad7c-1d1e-4a1b-8e6d-3ebee2434791" class="bulleted-list"><li style="list-style-type:disc">The <code>termsAndConditions</code> of the bonus should be provided as an HTML string.</li></ul><ul id="a219aed5-225b-4cc6-9ef2-40b9ae1e8422" class="bulleted-list"><li style="list-style-type:disc">The <code>logoUrl</code> represents the URL of the bonus image. If <code>logoUrl</code> is not present, a fallback will be used.</li></ul><ul id="1abacdcf-1619-4670-b845-201257a9a92d" class="bulleted-list"><li style="list-style-type:disc">Bonus codes will be available for all payment methods unless a <code>paymentMethodFilter</code> is specified.</li></ul><ul id="758a801c-4497-4a86-a02c-1122b70325e1" class="bulleted-list"><li style="list-style-type:disc">If a <code>paymentMethodFilter</code> is used, the bonus is applied depending on the properties set.<ul id="31faf862-e5ec-4a12-859d-8f493055a534" class="bulleted-list"><li style="list-style-type:circle">If <code>applyTo</code> is set then the bonus only would apply to those listed payment methods.</li></ul><ul id="e99a6fa5-bf7d-4522-937b-a27eec2027dd" class="bulleted-list"><li style="list-style-type:circle">If <code>excludeFrom</code> is set then the bonus won’t apply to those payment methods.</li></ul></li></ul><ul id="cef2e72c-3732-493c-ad9c-6979e3f5253e" class="bulleted-list"><li style="list-style-type:disc"><code>providerType</code> is sufficient if the payment method does not have a <code>service</code>.</li></ul><ul id="3fdac2ac-370a-4559-a5df-22694f1712d9" class="bulleted-list"><li style="list-style-type:disc"><code>maxBonus</code> and <code>maxBonusPercentage</code> are not mandatory.</li></ul><ul id="97e82089-1843-4043-bbc0-a7264b8ff4ec" class="bulleted-list"><li style="list-style-type:disc"><code>maxBonusPercentage</code> requires a <code>maxBonus</code> value.</li></ul><ul id="ea8094e0-33dc-4002-85d5-3fd9b450c200" class="bulleted-list"><li style="list-style-type:disc">If there is a <code>maxBonus</code> but no <code>maxBonusPercentage</code>, it is assumed that <code>maxBonusPercentage</code> is 100%.</li></ul><h2 id="60a7589e-285b-418b-b762-0d1433f745e6" class="">User Data Object</h2><p id="d7dc4067-73bc-49db-b889-2d8af9d4cf8a" class="">Used for resolving Suggested Deposit Amounts and Payment Methods Order with use of Machine Learning based on historical transactions data.</p><p id="f95a7bf0-2040-443e-b207-456e7f60d5b2" class="">The structure:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1d5a5900-51ec-458d-b903-dea2e176d64e" class="code"><code class="language-TypeScript">{
	age?: number;
	dayOfMonth?: string;
	dayOfWeek?: string;
	previousDeposit?: number;
	timeOfDay?: string;
}</code></pre><p id="a1beeb8e-9737-42aa-8435-d561dac15a3a" class="">All the properties are optional</p><h1 id="bc24d786-9a7e-42b3-90de-3ec6d30fa38a" class="">How Fluid works</h1><h2 id="d83d0098-4b73-4d71-89b7-e9332a8f2145" class="">Example Transaction 1: Deposit</h2><p id="fd498b8c-4416-4545-9534-b6adfd862c07" class="">When depositing funds, the user may have payment methods stored (e.g. credit card, ewallet etc), along with the associated details stored. This enables a user to choose one or their preferred payment methods and deposit funds seamlessly.</p><p id="e8678974-d4d2-489a-8372-c6f7e9f30d27" class="">In addition to the previously stored payment methods, various other methods can be presented to the user should they wish to use a new method (stored after using it for the first time). The wallet can customise the ordering of the stored and new payment methods. Each payment method has its own minimum deposit and maximum deposit limits. Each method also has its own set of bonuses that can be used with the method.</p><p id="01413f4e-2a82-422a-b4ff-658fd62391ac" class="">The figure below gives an example of how the fluid-widget element may appear in the rendered html for a transaction deposit. Once the user is authenticated on the host site, they are identified by the the user-id attribute. Data relating to the language used , currency, user balance etc are passed in and determine the appearance of the wallet, as illustrated below. The various steps shown in this example are for a user depositing <strong>100€</strong> using a credit card. Note the bonuses data is passed in as a stringified array of json bonus objects. This is detailed in the following section “Bonuses”.</p><p id="00cafca1-7170-42df-b9ed-afbaae9f2e5e" class="">
</p><figure id="1ec51b7d-dd19-4789-a4d8-557c9fc12717" class="image"><a href="assets/Untitled%202.png"><img style="width:768px" src="assets/Untitled%202.png"/></a></figure><figure id="d5b5bc6e-6b83-4e21-8f87-09a4849e5bdb" class="image"><a href="assets/Untitled%203.png"><img style="width:624px" src="assets/Untitled%203.png"/></a></figure><p id="cd923481-7ebe-498a-8550-84aa9cf378f8" class="">                                              <strong><em>Figure 3 - Example User Journey for a Deposit</em></strong></p><p id="c9c4c35c-b103-4a3e-ab5a-3324db540cf4" class="">
</p><p id="b40a1bc0-86d6-4f6d-a113-b3369e9d0f48" class="">The <mark class="highlight-red">maxBonus</mark> property defines the maximum bonus amount that can be claimed. For example, in the image below showing the preselected bonus, the <mark class="highlight-red">maxBonus </mark>amount would be <strong>150€</strong>. </p><p id="07999e85-7041-4e6e-bac5-c364639f4aeb" class="">The <mark class="highlight-red">maxBonusPercentage</mark> property defines the multiple applied to the amount deposited by the user to calculate the bonus amount added. This multiple is expressed as a percentage. For example, if the  <mark class="highlight-red">maxBonusPercentage </mark><mark class="highlight-default">is </mark><strong><mark class="highlight-default">150%</mark></strong><mark class="highlight-default"> and the user deposits </mark><strong><mark class="highlight-default">50</mark></strong><strong>€</strong>, then the bonus amount would be 7<strong>5€</strong> <em>(50 x 150% = 75). </em>As a second example<em>, </em>if the <mark class="highlight-red">maxBonusPercentage </mark><mark class="highlight-default">is </mark><strong><mark class="highlight-default">100%</mark></strong><mark class="highlight-default"> and the user deposits 2</mark><strong>00€, </strong>the bonus amount would be<strong> 200€ </strong><em>(200 x 100% = 200). </em>In the image below, the <mark class="highlight-red">maxBonusPercentage </mark><mark class="highlight-default">is </mark><strong><mark class="highlight-default">100%</mark></strong><mark class="highlight-default">, hence the text </mark><strong><em><mark class="highlight-default">“100% up to 150</mark></em></strong><strong><em>€ + …”</em></strong> for the login bonus.</p><p id="721a9726-72df-4cc1-9297-68b0a3428a6d" class="">The <mark class="highlight-red">selected-bonus</mark> property that is the bonus code of the specific bonus that will be preselected in the wallet. It is passed in to the fluid-widget and <strong>must be a part of the bonuses array </strong>described here. This is an observed attribute (see section “Observed Attributes” below) so it can be modified after the wallet has loaded. The ability to preselect bonuses may be used when the user is referred to the Operator with a specific bonus offer, for example.</p><p id="b4b174c5-86e1-4c09-97d7-177ca9c60338" class="">
</p><figure id="9f29852b-5c4e-4fd3-9bc5-36284c2efbb8" class="image"><a href="assets/Untitled%204.png"><img style="width:384px" src="assets/Untitled%204.png"/></a></figure><p id="0b768d57-dbf8-4586-970d-3ffdab24d7ba" class="">                                                  <strong><em>Figure 5 - Example of a Preselected Bonus</em></strong></p><p id="a2e29dd6-6f5d-4ecc-ac89-d6665eca9559" class="">
</p><p id="bd356949-37e3-4100-839b-b815f414e779" class="">If there is an error in the definition of the bonuses, the <mark class="highlight-purple">fluid-widget</mark>  will emit an notification message: <mark class="highlight-red">&#x27;invalid-bonus-data’ </mark><mark class="highlight-default">(see section “</mark>Notifications Emitted by the Fluid Wallet” below for more examples of notifications).</p><h2 id="1e87d442-2e53-44ba-8de4-d44865456c07" class="">Example Transaction 2: Quick Deposit</h2><p id="58270d8f-34c1-416e-a2a2-fe88f03aa22c" class="">For quick deposits, the user can deposit funds with the least effort simply by entering say CVC<br/>number and deposit amount. The figure below gives an example of how the fluid-widget element may appear in the rendered html for a quick deposit. Note the transaction attribute value is “quick-deposit”. As before, the various attribute values determine the various settings of the wallet, tailored to the user.<br/></p><p id="5b91b5c0-432d-4298-b319-d0041e63e9a7" class="">
</p><p id="9ff5e150-bd12-4761-a692-afe370c4aa06" class="">
</p><figure id="ffa033ad-3f86-4ba4-ae1b-5607d8c43f1a" class="image"><a href="assets/Untitled%205.png"><img style="width:336px" src="assets/Untitled%205.png"/></a></figure><p id="a8ab5c09-edf6-4b87-b614-5e65f34734a4" class="">
</p><p id="c4738a0c-d080-4a3b-b394-2b13643efe70" class="">                                                        <strong><em>Figure 6 - Quick Deposit: Step 1 </em></strong></p><h2 id="df1dff56-c8c4-4ad9-a8d7-1908bb5fb005" class="">Example Transaction 3: Withdrawal</h2><p id="ebf4232a-d320-4aec-a0a7-8676c7e43152" class="">The figure below shows the Fluid Wallet for a withdrawal transaction. Note in this example, the withdrawable balance of <strong>900€</strong> is passed in as property and displayed in the initial screen presented to the user.</p><p id="6ded5746-0ee1-422d-8a60-33e9c80b5579" class="">
</p><figure id="503f3f44-193c-4209-8dd3-6cc44ba8ff1a" class="image"><a href="assets/Untitled%206.png"><img style="width:384px" src="assets/Untitled%206.png"/></a></figure><p id="373deb45-f652-4eb7-8a1b-b0dcdb46f20b" class="">
</p><p id="19114cb5-ee44-4fdf-acee-a79678979147" class="">                                                       <strong><em>Figure 7 - Withdrawal: Step 1 </em></strong></p><h1 id="c4ce2922-771f-4c78-8b74-923a5026a835" class="">Fluid Wallet Content Defined by the Operator</h1><p id="bf713769-155d-4c99-8800-24f6acc5dd30" class="">Much of the content of the fluid wallet can be customised by the operator. Such content includes visual elements like the colour theme of the wallet, the style of the buttons etc. Other content defined by the operator includes certain text that is displayed in the various pages and modal boxes that are presented to the user. Currently, this is retrieved from a DatoCMS database. The image below shows examples of text content displayed in the wallet, some of which are taken from the wallet in a dark colour theme.</p><figure id="4a39459d-5deb-4f12-bd8c-bf00b44c107b" class="image"><a href="assets/Untitled%207.png"><img style="width:1754px" src="assets/Untitled%207.png"/></a></figure><p id="178549ff-8283-414b-9e6f-a8df4a7480e3" class="">                       <strong><em>Figure 8 - Example Text Content at various Steps in the Fluid Wallet </em></strong></p><p id="837e0715-0423-4eff-92b6-a84e18c1ca11" class="">
</p><h1 id="fc3f6755-59d7-443c-89c9-f4f4b8602489" class="">Fluid Wallet Behaviour Defined by the Operator</h1><p id="9975b2cc-65e3-4378-a78c-5c99d2f43b89" class="">Following a successful transaction, the user is notified in the final step with the amount being deposited or withdrawn, as shown below. The exact text displayed on the buttons (indicated 1,2,3) can be configured by the operator. The operator can also define what action if performed when the user clicks on this button e.g. the user may be taken to the home screen of the operator or simply have the wallet close with the user returning to the screen from which the wallet was opened.</p><figure id="91ede1cf-f714-4dcf-b7f8-30999ffecdf4" class="image"><a href="assets/Untitled%208.png"><img style="width:1017px" src="assets/Untitled%208.png"/></a></figure><p id="986a3355-f1d0-4e54-9547-4fbb3ea7512f" class="">                                          <strong><em>Figure 9 - Example Final Step Notification</em></strong></p><p id="0ea2c3b2-7994-4074-844e-bb56142d44fd" class="">
</p><p id="90cbcfe1-e2ac-49a3-a238-42fa2eda16a0" class="">In a similar manner to above, the buttons below can be configured by the operator.</p><figure id="575e9d45-4bbf-496b-91f7-22310f8bdd81" class="image"><a href="assets/Untitled%209.png"><img style="width:480px" src="assets/Untitled%209.png"/></a></figure><p id="9624df5b-190e-4d7c-8d00-8f01db825109" class="">                                        <strong><em>Figure 10 - Example Transaction Failure Cases</em></strong></p><h1 id="55faf6d3-3671-4297-b408-9649d1605f50" class="">Integrations with various front-end frameworks</h1><h2 id="02d3c952-0f81-4016-8bee-744c64e025de" class="">React</h2><p id="601cdbc1-f8f9-45de-81b7-945514840757" class="">While React is yet to improve their Web Component support in version 19 (<a href="https://github.com/facebook/react/issues/11347#issuecomment-1122275286">https://github.com/facebook/react/issues/11347#issuecomment-1122275286</a>) the current solution requires a simple workaround to assure critical Widget parameters are set on init.</p><p id="9932a839-168c-4546-8f26-19de3b47145f" class="">The Widget wrapper and <code>useEffect</code>:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="724fb473-62b8-40a8-a724-702bfda3271b" class="code"><code class="language-JavaScript">let scriptLoaded = false;

function FluidWrapper({ open, transaction, bonuses,  onInfo, onCommand, onError }) {
	const ref = useRef(null);

	useEffect(() =&gt; {
		let script;
		if (window &amp;&amp; document &amp;&amp; !scriptLoaded) {
			script = document.createElement(&#x27;script&#x27;);
			script.src = &#x27;https://get.fluidpayments.io/index.js&#x27;;
			script.async = true;
			script.onload = () =&gt; {
				console.log(&#x27;Fluid script loaded&#x27;);
			};
			document.head.appendChild(script);

			scriptLoaded = true;
		}

		return () =&gt; {
			if (script) {
				script.remove();
			}
		};
	}, []);

	useLayoutEffect(() =&gt; {
		const fluid = ref.current;

		fluid.addEventListener(&#x27;fluid-command&#x27;, onCommand);
		fluid.addEventListener(&#x27;fluid-info&#x27;, onInfo);
		fluid.addEventListener(&#x27;fluid-error&#x27;, onError);

		return () =&gt; {
			fluid.removeEventListener(&#x27;fluid-command&#x27;, onCommand);
			fluid.removeEventListener(&#x27;fluid-info&#x27;, onInfo);
			fluid.removeEventListener(&#x27;fluid-error&#x27;, onError);
		}
	}, [onCommand, onError, onInfo, ref]);

	return (
		&lt;fluid-widget
			ref={ref}
			id=&quot;fluid-widget&quot;
			operator-id=&quot;10000001&quot;
			user-id=&quot;10001&quot;
			session-id=&quot;&quot;
			locale=&quot;en&quot;
			currency=&quot;EUR&quot;
			user-data={ JSON.stringify(userData) }
			transaction={ transaction }
			open={ open }
			balance=&quot;1000&quot;
			withdrawable-balance=&quot;900&quot;
			mode=&quot;wave&quot;
			selected-bonus=&quot;&quot;
			bonuses={ JSON.stringify(bonuses || []) }
			deposit-limit=&quot;&quot;
			success-cta-link=&quot;&quot;&gt;
		&lt;/fluid-widget&gt;
	);
}</code></pre><p id="8df552ee-a9ae-4fb0-b876-b558007cdcb0" class="">Mind the <code>scriptLoaded</code> is there to prevent React from loading the Widget script twice on render.</p><p id="ef082d18-804b-4ccc-8ebc-26a379672975" class="">
</p><p id="b5444732-03dc-4501-a14d-d5ed2233065c" class="">An example of possible integration use:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2a3ee3f2-3a63-4803-bb5b-bfefe5b9909c" class="code"><code class="language-JavaScript">function App() {
	const [open, setOpen] = useState(false);
	const [transaction, setTransaction] = useState(&#x27;deposit&#x27;);
	const [numberOfBonuses, setNumberOfBonuses] = useState(bonuses.length);

	function deposit() {
		setTransaction(&#x27;deposit&#x27;);
		setOpen(true);
	}

	function withdraw() {
		setTransaction(&#x27;withdrawal&#x27;);
		setOpen(true);
	}

	function quickDeposit() {
		setTransaction(&#x27;quick-deposit&#x27;);
		setOpen(true);
	}

	function close() {
		setOpen(false);
	}

	function onCommand(event) {
		console.info(`%cFluid COMMAND: ${event.detail}`, &#x27;color: lightgreen&#x27;, event);

		if (event.detail === &#x27;close&#x27;) {
			close();
		}
	}

	function onInfo(event) {
		console.info(`%cFluid INFO: ${event.detail}`, &#x27;color: cornflowerblue&#x27;, event);
	}

	function onError(event) {
		console.error(`Fluid ERROR: ${event.detail}`, event);
	}

	function changeNumberOfBonuses() {
		const newNumberOfBonuses = numberOfBonuses - 1 &lt; 0 ? 3 : numberOfBonuses - 1;
		setNumberOfBonuses(newNumberOfBonuses);
		console.log(&#x27;Number of bonuses set to&#x27;, newNumberOfBonuses);
	}

	return (
		&lt;&gt;
			&lt;h1&gt;
				&lt;img src=&quot;/logo-mark-light.png&quot; alt=&quot;Fluid&quot; width={48} style={{ marginRight: &#x27;1rem&#x27; }} /&gt;
				Fluid
			&lt;/h1&gt;

			&lt;div style={{ marginBottom: &#x27;1rem&#x27; }}&gt;
				&lt;button onClick={ deposit }&gt;Deposit
				&lt;/button&gt;
			&lt;/div&gt;
			&lt;div style={{ marginBottom: &#x27;1rem&#x27; }}&gt;
				&lt;button onClick={ withdraw }&gt;
					Withdrawal
				&lt;/button&gt;
			&lt;/div&gt;
			&lt;div style={{ marginBottom: &#x27;1rem&#x27; }}&gt;
				&lt;button onClick={ quickDeposit }&gt;
					Quick Deposit
				&lt;/button&gt;
			&lt;/div&gt;

			&lt;div style={{ marginBottom: &#x27;1rem&#x27; }}&gt;
				&lt;button onClick={ changeNumberOfBonuses }&gt;
					Change bonuses
				&lt;/button&gt;
			&lt;/div&gt;

			&lt;FluidWrapper
				open={open}
				transaction={transaction}
				bonuses={bonuses.slice(0, numberOfBonuses)}
				onInfo={ onInfo }
				onCommand={ onCommand }
				onError={ onError }
			/&gt;
		&lt;/&gt;
	)
}</code></pre><p id="a657cf0c-03a2-4745-a1fe-814409f4de8b" class="">
</p><p id="cb395844-e7ba-4d66-9006-5200ca0dc173" class="">Complete code of the POC: <a href="https://github.com/soltechno/fluid-react-integration">https://github.com/soltechno/fluid-react-integration</a></p><p id="c7e16ec9-24e9-4fb3-a0fa-a6e5ec3d0a20" class="">
</p></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body></html>